このフォーマットは以下の構成となっています。

1. 教材のテンプレート部分
2. テンプレートを元にしたアプリケーション開発教材サンプルと、教材の書き方のポイント解説

ここから先は、`1. 教材のテンプレート部分`となります。

---

# このパートで実施することをh1見出しとしてください(なお目次と一致させてください)

このパートで実施することの概要と目的をここに書いてください

## 1. 最初に実施することをh2見出しとしてください

最初に実施することに対する説明をここに書いてください

### 初出の要素をh3見出しとしてください

初出の要素に対する解説をここに書いてください

### 初出の要素をh3見出しとしてください

初出の要素に対する解説をここに書いてください

## 2. 次に実施することをh2見出しとしてください

次に実施することに対する説明をここに書いてください

### 初出の要素をh3見出しとしてください

初出の要素に対する解説をここに書いてください

### 初出の要素をh3見出しとしてください

初出の要素に対する解説をここに書いてください

>以後、h2とh3とそれぞれの本文を繰り返し書いてください。
>
>h4見出しは使用しないでください。Techpitの教材表示のシステムではh4見出しは、普通の文字列として表示されるため。
>- [[参考]見出しの使い方- Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/markdown#1-shinoi)


パートの締めの文章をここに書いてください

---

以上が、`1. 教材のテンプレート部分`となります。

ここから最後までが、`2. テンプレートを元にしたアプリケーション開発教材サンプルと、教材の書き方のポイント解説`となります。

---

# コントローラーとビューの新規作成

>h1見出しは、目次と一致させてください。
>
> - [[参考]パートのタイトル - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-3#ptonotaitoru)

前パートではMVC(モデル・ビュー・コントローラー)について解説しました。

このパートでは、まずコントローラーとビューのコードを実際に書いてMVCの理解を深めていきましょう。

機能としては、ごく簡単なHello World表示とします。

(Hello Worldが表示されたスクリーンショット画像)

なお、モデルに関しては、次のパートで触れていきます。

>パートのタイトル(h1見出し)の後の本文には、このパートで実施することの概要を書いてください。
>
>また、単に概要を書くだけでなく、それを実施する**背景や経緯、目的**などにも触れるようにしてください。
>
>そうすることで、執筆者である貴方が、学習者に対して**何を、どういう理由で学ばせようとしているのかが伝わる**ようにしてください。
>
>- [[参考]本パートの目標物 (ゴール) - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-3#ptono-gru)
>
>また、パート内で実施することが多岐に渡る場合は、その流れについても最初に触れるようにしてください。
>
>- [[参考]目標物を作成するまでの流れ (ゴールを達成するまでの流れ) - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-3#wosurumadenore-gruwosurumadenore)
>
>ただし、1つのパートのボリュームが当初想定より多くなってきたら詰め込みすぎず、パートを分けることも検討してください。

## 1. コントローラーの作成

foobarフレームワークでは、コントローラーの雛形をコマンドで新規作成することができます。

本パートでは、このコマンドを使用してコントローラーを作成することにします。

〇〇ディレクトリで、以下コマンドを実行してください。

```
foobar create:controler HelloController --no-crud
```

コマンドが成功すると、以下が表示されます。

```
Created HelloController.
```

このコマンドにより、`xxxxx/xxxxx/xxxxx`ディレクトリに`HelloController.fb`が作成されます。

```
xxxxx
└── xxxxx
    └── xxxxx
        └── HelloController.fb
```

>コマンドの実行を行う際は、それがどういったコマンドなのかを説明してください。
>
>また、学習者がコマンドの成功/失敗を判断できるよう、コマンドの実行結果を必ず記載してください。
>- [[参考]コマンド実行箇所のフォーマット - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-5)
>

### foobar createコマンド

foobarフレームワークでは、`foobar create:`とコマンドを実行することで、Webアプリケーションを構成する様々なクラスの雛形を作成できます。

コントローラーを作成したい場合のコマンドは、`foobar create:controller コントローラー名`となります。

`--no-crud`オプションを付けていますが、これを付けることで雛形の中でのメソッドの定義を省略します。

なぜそのようにしているかというと、デフォルトでは`create`メソッドや`show`メソッドなどx種類のメソッドが雛形に最初から定義されるのですが、Hello World表示を行うだけの`HelloController.fb`ではそうしたメソッドは不要なので、`--no-crud`オプションを付けています。

`--no-crud`オプションの詳細やその他のオプションについては以下の公式ドキュメントを参照してください。

- [[参考]create:controllerのオプション - foobar公式ドキュメント]()

>教材のテーマ(例ではfoobarフレームワーク)固有のコマンドや用語、メソッドなどがパート内で登場した場合、それが**教材の中で初出の要素**であれば、その初出の要素をh3見出しにするなどして、**学習者が理解できるレベルでわかりやすく解説**するようにしてください。
>
>ここで解説をせずに、アプリを作るための**コマンドやコードを提示されるだけの内容が繰り返し続く**と、Techpitの学習者は**作業感、やらされ感**をおぼえて、せっかくの教材に対して**不満**を持つケースがあります。
>
>逆に、ここでの解説によって、現役のエンジニアからわかりやすく、実務でも役立つ知識が得られると、学習者は**高い満足感**を得ます。
>
>ぜひ学習者の目線でわかりやすい解説を心掛けてください。
>
>また、一通り解説した後に、**補足**として**公式ドキュメントなどのリンクを掲載**すると、学習者に喜ばれます。
>
>ただし、リンクはあくまで補足として使ってください。教材中で何も解説せずリンクだけを記載すると、学習者は不満を持ちます。
>
>- [[参考]必要があればリンクを追記して説明を補足 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-4#6-gaarebarinkuwoshitewo)
>
>リンクについては、原則としてURLをそのまま表示するのではなく、例のようにリンク先のタイトルなどが表示されるように記載してください。
>
>- [[参考]リンクの書き方 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/markdown#2-rinkunoki)
>
>なお、初出の要素であっても、教材の冒頭で解説対象外とあらかじめ断りを入れている分野(例えばWebフレームワークがテーマの教材におけるHTMLやCSSなど)に関しては解説は不要です。

## 2. コントローラーの編集

次に、コントローラーを編集します。

`xxxxx/xxxxx/xxxxx`ディレクトリの`HelloController.fb`を以下の通り編集してください。

```
xxxxx
└── xxxxx
    └── xxxxx
        └── HelloController.fb
```

>コードを編集する場合は、対象のファイルパスをツリー形式で記載してください。
>
>学習者は、執筆者である貴方ほどには教材のプロジェクトのディレクトリ構造への理解が追いついていません。
>
>教材を終える頃にようやく把握できたということもありえます。
>
>そのため、ツリー形式で提示することでわかりやすくしてください。
>
>- [[参考]実装箇所を記載 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-4#3-wo)

```diff:xxxxx/xxxxx/xxxxx/HelloController.fb
// 略
class HelloController extends Controller
{
    public function index()
    {
-        //
+        return view(
+            'hello.index',
+            [
+                target: 'World', 
+            ]
        )
    }
}
```

>コードの編集を行う場合は、コードブロックで記載してください。
>
>また、ファイルの種類を示す拡張子(js/rb/json等)を記載し、シンタックスハイライト表示されるようにしてください。
>
>その他に以下の点を守ってください。
>
>- ファイルの種類を示す拡張子の後に更に`:ファイルパス`と記述することで、コードブロックの冒頭にファイルパスを表示し、どのファイルが編集対象であるかをよりわかりやすくする(この記述を行なってもGitHub上ではファイルパスは表示されませんが、Techpit上では表示されます)
>  - [[参考]コードの書き方 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/markdown#6-kdonoki)
>- コードを編集すべき箇所を明示する(具体的方法は下記の参考リンクを参照)
>- 原則としてソースファイルの全行を記載はせず、例のように`略`などのコメントを入れて、編集箇所の前後3行のコードのみ記載する
>
>  - [[参考]コードを貼り付ける - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-4#4-kdoworikeru)
> - コードの説明はコードを貼り付ける作業の後に行う
> - 説明のポイントとしてはこのコードでどういったことやっているか1つずつ説明すると分かりやすい教材になる
> - [[参考]コードの説明 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-4#5-kdono)

>なお、**1つのh2見出し配下で実施する内容のスコープは、できるだけ小さくするようにしてください。**
>
>どのようにスコープを小さくすれば良いかというと、例えば1つのパート内で、あるソースファイルに複数のメソッドあるいは機能を実装する流れだったとします。
>
>そういった場合には、1つのh2見出し配下の1つのコードブロック内で同時に複数のメソッドや機能を実装はせずに、**メソッドあるいは機能単位でh2見出しを分ける**(結果、コードブロックも分かれる)ようにしてください。
>
>1つのh2見出し配下の1つのコードブロック内で多くの実装を一度に行なってしまうと、教材執筆や教材のアプリを早く完成させるという面では効率的ですが、学習者の理解が追いつかず、わかりづらい教材になってしまいます。
>
>一度に行う内容のスコープを小さくし、学習者がステップ・バイ・ステップで理解できるような構成を心掛けてください。

### view関数

`view`関数は、foobarフレームワークの関数です。

指定したビューファイルを使ってHTMLを生成し、クライアント(ユーザーのPCやスマホ)にレスポンスします。

第一引数には、ビューファイル名を文字列で渡します。

`'hello.index'`とすることで、`xxxxx/views/hello/index.fb`がビューファイルとして使用されます。

第二引数には、ビューファイルに渡す変数の名前と値を、辞書形式で渡します。

後ほど作成する`index.fb`では変数`target`を使用するため、ここで第二引数に渡しています。

- [[参考]view関数 - foobar公式ドキュメント]()

## 3. ビューファイルの作成

例は割愛

## 4. ビューファイルの編集

例は割愛

## 5. Hello World表示を確認する

ここまでコードを編集したら、ブラウザで`localhost/hello`にアクセスしてください。

以下のように表示されれば問題ありません。

(Hello Worldが表示されたスクリーンショット画像)

>コードの編集を終えた時点で、何らかの動作確認が行えるのであれば動作確認手順を書くようにしてください。
>
>各パートの最後に限らず、パートの途中でも何か動作確認を行えるのであれば、動作確認手順を書くことをお勧めします。
>
>細かい粒度で学習者に動作確認をさせておくと、エラー発生時の学習者からの質問を受けた際に原因の切り分けが楽になります。
>
>- [[参考]動作確認 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-3#dong-zuo-que-ren)

以上で、本パートは終了です。お疲れ様でした。

次のパートでは、テーブルとモデルの作成を行います。

>- [[参考]パートの最後の一言 - Techpitスタイルガイド](https://techpit-market.gitbook.io/host-guide/4/4-3#ptonono)
